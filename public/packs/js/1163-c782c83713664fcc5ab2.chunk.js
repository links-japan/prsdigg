(self.webpackChunkprsdigg=self.webpackChunkprsdigg||[]).push([[1163],{44905:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});n(51350);var r=n(38272),a=(n(67167),n(71577)),l=n(57210),c=n(67294),i=n(64478);function o(e){var t=(0,l.FS)().isMobile,n=(0,i.$)().t,o=e.dataSource,u=e.hasNextPage,s=e.loading,m=e.fetchMore,d=e.renderItem;return c.createElement(r.ZP,{size:"small",dataSource:o,itemLayout:t.phone?"vertical":"horizontal",loadMore:u&&c.createElement("div",{style:{textAlign:"center",marginTop:12,height:32,lineHeight:"32px"}},c.createElement(a.Z,{loading:s,onClick:m},n("load_more"))),renderItem:d})}},31163:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return F}});n(19793);var r=n(51752),a=(n(13816),n(37744)),l=n(67294),c=n(64478),i=n(5977),o=(n(51350),n(38272)),u=(n(25664),n(55241)),s=(n(945),n(57016)),m=(n(39200),n(32787)),d=(n(28610),n(75443)),f=(n(20540),n(1474)),g=(n(67167),n(71577)),b=(n(78322),n(53296)),E=(n(58481),n(48086)),h=n(1870),p=n(62536),Z=n(57119),y=n(44905),v=n(67823),k=n(20640),_=n.n(k),C=n(39387);function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,a,l=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);c=!0);}catch(o){i=!0,a=o}finally{try{c||null==n.return||n.return()}finally{if(i)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(){var e=(0,c.$)().t,t=W((0,l.useState)(null),2),n=t[0],r=t[1],a=W((0,l.useState)(!1),2),i=a[0],k=a[1],P=W((0,l.useState)(""),2),w=P[0],x=P[1],B=(0,C.G2V)(),M=B.loading,S=B.data,O=B.refetch,A=B.fetchMore,j=W((0,C.Emg)({update:function(e,t){var n=t.data.createAccessToken;x(""),k(!1),r(n),O()}}),1)[0],I=W((0,C.W7e)({update:function(t,n){var r=n.data.deleteAccessToken;O(),r&&E.ZP.success(e("success_deleted"))}}),1)[0];if(M)return l.createElement(v.Z,null);var T=S.myAccessTokenConnection,N=T.nodes,R=T.pageInfo,z=R.hasNextPage,$=R.endCursor;return l.createElement(l.Fragment,null,n&&l.createElement("div",{className:"mb-4"},l.createElement(f.Z,{type:"success",showIcon:!0,closable:!0,message:e("token_generated_tips"),description:l.createElement(l.Fragment,null,l.createElement(b.Z.Text,{className:"block mb-2",type:"danger"},e("token_security_tips")),l.createElement("div",{className:"flex"},l.createElement(b.Z.Text,{code:!0},n.value),l.createElement(g.Z,{className:"ml-2",size:"small",onClick:function(){_()(n.value),E.ZP.success(e("success_copied"))}},e("copy"))))})),l.createElement("div",{className:"mb-4"},l.createElement(d.Z,{title:e("confirm_to_generate_token"),onConfirm:function(){return k(!0)}},l.createElement(g.Z,{type:"primary"},e("generate_new_token"))),l.createElement("a",{className:"ml-2",href:"https://github.com/baizhiheizi/prsdigg#api",target:"_blank"},l.createElement(h.Z,null)),l.createElement(s.Z,{title:e("generate_new_token"),visible:i,onCancel:function(){return k(!1)},onOk:function(){return j({variables:{input:{memo:w}}})},okButtonProps:{disabled:!Boolean(w)}},l.createElement(m.Z,{value:w,placeholder:e("token_memo_placeholader"),onChange:function(e){return x(e.currentTarget.value)}}))),l.createElement(y.Z,{loading:M,hasNextPage:z,fetchMore:function(){return A({variables:{after:$}})},dataSource:N,renderItem:function(t){return l.createElement(o.ZP.Item,{key:t.id,actions:[l.createElement(d.Z,{title:e("confirm_to_delete_token"),onConfirm:function(){return I({variables:{input:{id:t.id}}})}},l.createElement(g.Z,{size:"small"},e("delete")))]},l.createElement("div",{className:"flex-1 line-clamp-1"},t.memo),l.createElement("div",{className:"flex-1 "},l.createElement(b.Z.Text,{code:!0},t.desensitizedValue)),t.lastRequestAt?l.createElement(u.Z,{title:"Last Request",content:l.createElement(l.Fragment,null,l.createElement("p",null,"IP: ",t.lastRequestIp),l.createElement("p",null,"Time: ",t.lastRequestAt))},l.createElement(p.Z,{twoToneColor:"#52c41a"})):l.createElement(u.Z,{title:"Last Request",content:"Never requested"},l.createElement(Z.Z,null)))}}))}n(24228);var x=n(27049),B=(n(13062),n(71230)),M=(n(89032),n(15746)),S=(n(51872),n(19650)),O=(n(27883),n(12028));function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,a,l=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);c=!0);}catch(o){i=!0,a=o}finally{try{c||null==n.return||n.return()}finally{if(i)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I=b.Z.Paragraph;function T(){var e=(0,c.$)().t,t=(0,C.GVy)(),n=t.loading,r=t.data,a=A((0,C.hyz)({update:function(){E.ZP.success(e("success_updated"))}}),2),i=a[0],o=a[1].loading;if(n)return l.createElement(v.Z,null);var u=r.myNotificationSetting;return l.createElement("div",null,l.createElement(b.Z,null,l.createElement(I,null,l.createElement(f.Z,{message:e("tips_of_general_notifications")}))),l.createElement("br",null),l.createElement(b.Z,null,l.createElement(I,null,e("tips_of_article_published_notifications"))),l.createElement(B.Z,{gutter:16},l.createElement(M.Z,null,l.createElement(S.Z,null,l.createElement(O.Z,{loading:o,checked:u.articlePublishedWeb,onChange:function(e){return i({variables:{input:{articlePublishedWeb:e}}})}}),"Web")),l.createElement(M.Z,null,l.createElement(S.Z,null,l.createElement(O.Z,{loading:o,checked:u.articlePublishedMixinBot,onChange:function(e){return i({variables:{input:{articlePublishedMixinBot:e}}})}}),"Mixin Bot")),l.createElement(M.Z,null,l.createElement(S.Z,null,l.createElement(O.Z,{disabled:!0,loading:o,checked:u.articlePublishedWebhook,onChange:function(e){return i({variables:{input:{articlePublishedWebhook:e}}})}}),"Webhook"))),l.createElement(x.Z,null),l.createElement(b.Z,null,l.createElement(I,null,e("tips_of_article_bought_notifications"))),l.createElement(B.Z,{gutter:16},l.createElement(M.Z,null,l.createElement(S.Z,null,l.createElement(O.Z,{loading:o,checked:u.articleBoughtWeb,onChange:function(e){return i({variables:{input:{articleBoughtWeb:e}}})}}),"Web")),l.createElement(M.Z,null,l.createElement(S.Z,null,l.createElement(O.Z,{loading:o,checked:u.articleBoughtMixinBot,onChange:function(e){return i({variables:{input:{articleBoughtMixinBot:e}}})}}),"Mixin Bot")),l.createElement(M.Z,null,l.createElement(S.Z,null,l.createElement(O.Z,{disabled:!0,loading:o,checked:u.articleBoughtWebhook,onChange:function(e){return i({variables:{input:{articleBoughtWebhook:e}}})}}),"Webhook"))),l.createElement(x.Z,null),l.createElement(b.Z,null,l.createElement(I,null,e("tips_of_article_rewarded_notifications"))),l.createElement(B.Z,{gutter:16},l.createElement(M.Z,null,l.createElement(S.Z,null,l.createElement(O.Z,{loading:o,checked:u.articleRewardedWeb,onChange:function(e){return i({variables:{input:{articleRewardedWeb:e}}})}}),"Web")),l.createElement(M.Z,null,l.createElement(S.Z,null,l.createElement(O.Z,{loading:o,checked:u.articleRewardedMixinBot,onChange:function(e){return i({variables:{input:{articleRewardedMixinBot:e}}})}}),"Mixin Bot")),l.createElement(M.Z,null,l.createElement(S.Z,null,l.createElement(O.Z,{disabled:!0,loading:o,checked:u.articleRewardedWebhook,onChange:function(e){return i({variables:{input:{articleRewardedWebhook:e}}})}}),"Webhook"))),l.createElement(x.Z,null),l.createElement(b.Z,null,l.createElement(I,null,e("tips_of_tagging_created_notifications"))),l.createElement(B.Z,{gutter:16},l.createElement(M.Z,null,l.createElement(S.Z,null,l.createElement(O.Z,{loading:o,checked:u.taggingCreatedWeb,onChange:function(e){return i({variables:{input:{taggingCreatedWeb:e}}})}}),"Web")),l.createElement(M.Z,null,l.createElement(S.Z,null,l.createElement(O.Z,{loading:o,checked:u.taggingCreatedMixinBot,onChange:function(e){return i({variables:{input:{taggingCreatedMixinBot:e}}})}}),"Mixin Bot")),l.createElement(M.Z,null,l.createElement(S.Z,null,l.createElement(O.Z,{disabled:!0,loading:o,checked:u.taggingCreatedWebhook,onChange:function(e){return i({variables:{input:{taggingCreatedWebhook:e}}})}}),"Webhook"))),l.createElement(x.Z,null),l.createElement(b.Z,null,l.createElement(I,null,e("tips_of_comment_created_notifications"))),l.createElement(B.Z,{gutter:16},l.createElement(M.Z,null,l.createElement(S.Z,null,l.createElement(O.Z,{loading:o,checked:u.commentCreatedWeb,onChange:function(e){return i({variables:{input:{commentCreatedWeb:e}}})}}),"Web")),l.createElement(M.Z,null,l.createElement(S.Z,null,l.createElement(O.Z,{loading:o,checked:u.commentCreatedMixinBot,onChange:function(e){return i({variables:{input:{commentCreatedMixinBot:e}}})}}),"Mixin Bot")),l.createElement(M.Z,null,l.createElement(S.Z,null,l.createElement(O.Z,{disabled:!0,loading:o,checked:u.commentCreatedWebhook,onChange:function(e){return i({variables:{input:{commentCreatedWebhook:e}}})}}),"Webhook"))),l.createElement(x.Z,null),l.createElement(b.Z,null,l.createElement(I,null,e("tips_of_transfer_processed_notifications"))),l.createElement(B.Z,{gutter:16},l.createElement(M.Z,null,l.createElement(S.Z,null,l.createElement(O.Z,{loading:o,checked:u.transferProcessedWeb,onChange:function(e){return i({variables:{input:{transferProcessedWeb:e}}})}}),"Web")),l.createElement(M.Z,null,l.createElement(S.Z,null,l.createElement(O.Z,{loading:o,checked:u.transferProcessedMixinBot,onChange:function(e){return i({variables:{input:{transferProcessedMixinBot:e}}})}}),"Mixin Bot")),l.createElement(M.Z,null,l.createElement(S.Z,null,l.createElement(O.Z,{disabled:!0,loading:o,checked:u.transferProcessedWebhook,onChange:function(e){return i({variables:{input:{transferProcessedWebhook:e}}})}}),"Webhook"))),l.createElement(x.Z,null))}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,a,l=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);c=!0);}catch(o){i=!0,a=o}finally{try{c||null==n.return||n.return()}finally{if(i)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(){var e,t=(0,i.TH)(),n=(0,i.k6)(),o=(0,c.$)().t,u=$((0,l.useState)((null==(e=t.state)?void 0:e.activeKey)||"notification"),2),s=u[0],m=u[1];return l.createElement(l.Fragment,null,l.createElement(a.Z,{title:o("settings")}),l.createElement(r.Z,{activeKey:s,onChange:function(e){m(e),n.replace(R(R({},t),{},{state:R(R({},t.state),{},{activeKey:e})}))}},l.createElement(r.Z.TabPane,{key:"notification",tab:o("notification")},l.createElement(T,null)),l.createElement(r.Z.TabPane,{key:"accessToken",tab:o("access_token")},l.createElement(w,null))))}}}]);
//# sourceMappingURL=1163-c782c83713664fcc5ab2.chunk.js.map